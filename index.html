<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serena's Photobook</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Allura&display=swap">

    <style>
        body {
            font-family: 'Allura', serif;
            font-size: 20px;
            margin: 30px;
            background-color: #ffeef4;
        }

        h1 {
            font-size: 60px;
            text-align: center;
            margin-bottom: 10px;
        }

        p {
            text-align: center;
            margin-top: 0;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 10px;
            margin-top: 30px;
        }

        .gallery img {
            width: 100%;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .gallery img:hover {
            transform: scale(1.02);
        }

        .menu-wrap {
            position: fixed;
            top: 30px;
            right: 30px;
            z-index: 100;
        }

        .menu-button {
            display: block;
            width: 48px;
            height: 48px;
            padding: 0;
            border: none;
            background: transparent url('button.png') center/contain no-repeat;
            cursor: pointer;
        }
        .menu-button:hover {
            opacity: 0.9;
        }

        .menu-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 6px;
            min-width: 160px;
            background: rgba(255, 254, 254, 0.98);
            border: 1px solid rgba(180, 120, 140, 0.3);
            border-radius: 10px;
            box-shadow: 0 8px 24px rgba(120, 80, 90, 0.2);
            padding: 6px 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-8px);
            transition: opacity 0.2s, transform 0.2s, visibility 0.2s;
            z-index: 101;
        }
        .menu-dropdown.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .menu-dropdown a {
            display: block;
            padding: 10px 16px;
            color: #5c3d4a;
            text-decoration: none;
            font-size: 20px;
            font-family: 'Times New Roman', Times, serif;
            transition: background 0.15s;
        }
        .menu-dropdown a:hover {
            background: rgba(255, 238, 244, 0.8);
        }
        .menu-dropdown a:first-child { border-radius: 8px 8px 0 0; }
        .menu-dropdown a:last-child { border-radius: 0 0 8px 8px; }

        .menu-backdrop {
            position: fixed;
            inset: 0;
            z-index: 99;
            display: none;
        }
        .menu-backdrop.visible { display: block; }

        .page { display: none; }
        .page.active { display: block; }

        #page-about {
            font-family: 'Times New Roman', Times, serif;
        }
        #page-about h1 {
            font-family: 'Allura', serif;
        }
        #page-about .about-content {
            display: flex;
            flex-direction: row;
            align-items: stretch;
            justify-content: center;
            gap: 2em;
            margin: 2em auto 0;
            max-width: 900px;
            flex-wrap: wrap;
        }
        #page-about .about-text {
            text-align: left;
            flex: 0 1 auto;
            min-width: 220px;
            max-width: 320px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-self: stretch;
        }
        #page-about .about-text p {
            text-align: left;
            margin-bottom: 1.2em;
        }
        #page-about .about-text p:last-child {
            margin-bottom: 0;
        }
        #page-about .about-text a.email {
            text-decoration: underline;
            color: inherit;
        }
        #page-about .about-photo {
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #page-about .about-photo img {
            max-height: 420px;
            width: auto;
            height: auto;
            object-fit: contain;
        }

        /* Video grid: 3 videos per row */
        .video-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 30px;
        }

        .video-gallery video {
            width: 100%;
            aspect-ratio: 16 / 9;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.2s;
            background: #000;
        }
        .video-gallery video:hover {
            transform: scale(1.02);
        }

        #lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        #lightbox img,
        #lightbox video {
            max-width: 90%;
            max-height: 90%;
            border-radius: 4px;
        }
        #lightbox video {
            display: none;
        }
        #lightbox.video-mode img {
            display: none;
        }
        #lightbox.video-mode video {
            display: block;
        }

        @media (max-width: 600px) {
            body {
                margin: 14px;
                font-size: 18px;
            }

            h1 {
                font-size: 38px;
                line-height: 1.1;
            }

            .menu-wrap {
                top: 14px;
                right: 14px;
            }
            .menu-button {
                width: 44px;
                height: 44px;
            }
            .menu-dropdown a {
                font-size: 18px;
                padding: 12px 14px;
            }

            .gallery {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .video-gallery {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            #page-about .about-content {
                flex-direction: column;
                gap: 1.2em;
                margin-top: 1.2em;
            }
            #page-about .about-text {
                max-width: none;
            }
            #page-about .about-photo img {
                max-height: none;
                width: 100%;
                height: auto;
                object-fit: contain;
            }

            #lightbox img,
            #lightbox video {
                max-width: 95%;
                max-height: 85%;
            }
        }

        @media (min-width: 601px) and (max-width: 900px) {
            .video-gallery {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>

<body>
    <div class="menu-wrap">
        <button type="button" class="menu-button" id="menuBtn" aria-haspopup="true" aria-expanded="false" title="Menu"></button>
        <nav class="menu-dropdown" id="menuDropdown" role="menu">
            <a href="#home" role="menuitem" data-page="home">Photobook</a>
            <a href="#video" role="menuitem" data-page="video">Videobook</a>
            <a href="#about" role="menuitem" data-page="about">About</a>
        </nav>
    </div>
    <div class="menu-backdrop" id="menuBackdrop" aria-hidden="true"></div>

    <div id="page-home" class="page active">
        <h1>&#9734 Serena's Photobook &#9734;</h1>

        <div class="gallery">
            <img src="images/photo24.jpg" alt="Photo 24">
            <img src="images/photo23.jpg" alt="Photo 23">
            <img src="images/photo22.jpg" alt="Photo 22">
            <img src="images/photo21.jpg" alt="Photo 21">
            <img src="images/photo20.jpg" alt="Photo 20">
            <img src="images/photo19.jpg" alt="Photo 19">
            <img src="images/photo18.jpg" alt="Photo 18">
            <img src="images/photo17.jpg" alt="Photo 17">
            <img src="images/photo16.jpg" alt="Photo 16">
            <img src="images/photo15.jpg" alt="Photo 15">
            <img src="images/photo14.jpg" alt="Photo 14">
            <img src="images/photo13.jpg" alt="Photo 13">
            <img src="images/photo12.jpg" alt="Photo 12">
            <img src="images/photo11.jpg" alt="Photo 11">
            <img src="images/photo10.jpg" alt="Photo 10">
            <img src="images/photo9.jpg" alt="Photo 9">
            <img src="images/photo8.jpg" alt="Photo 8">
            <img src="images/photo7.jpg" alt="Photo 7">
            <img src="images/photo6.jpg" alt="Photo 6">
            <img src="images/photo5.jpg" alt="Photo 5">
            <img src="images/photo4.jpg" alt="Photo 4">
            <img src="images/photo3.jpg" alt="Photo 3">
            <img src="images/photo2.jpg" alt="Photo 2">
            <img src="images/photo1.jpg" alt="Photo 1">
        </div>
    </div>

    <section id="page-video" class="page" aria-label="Videobook">
        <h1>&#9734 Videobook &#9734;</h1>
        <div class="video-gallery">
            <video src="videos/nycsummer1.mp4" muted loop playsinline preload="none" poster="posters/nycsummer1.png" data-src="videos/nycsummer1.mp4" data-start-time="20"></video>
            <video src="videos/nycnight.mp4" muted loop playsinline preload="none" poster="posters/nycnight.png" data-src="videos/nycnight.mp4"></video>
            <video src="videos/nycsummer2.mp4" muted loop playsinline preload="none" poster="posters/nycsummer2.png" data-src="videos/nycsummer2.mp4"></video>
            <video src="videos/seaglasscarousel.mp4" muted loop playsinline preload="none" poster="posters/seaglasscarousel.png" data-src="videos/seaglasscarousel.mp4"></video>
        </div>
    </section>

    <section id="page-about" class="page" aria-label="About">
        <h1>&#9734 About &#9734;</h1>
        <div class="about-content">
            <div class="about-text">
                <p>Welcome to my media portfolio! A little bit about me: Originally from Toronto, Canada, and currently a student at NYU Stern studying Econometrics. I love reading, being outdoors, and anything analog (CDs, film photography, paper media).</p>
                <p>I made this website to showcase some of my projects and to capture how I see the world. Taking photos and videos has always been a huge hobby of mine, and I'm excited to be exploring that more through different mediums (film, digital) and tools (GitHub, CapCut).</p>
                <p>Feel free to reach out at <a href="mailto:serena.wang1906@gmail.com" class="email">serena.wang1906@gmail.com</a> :)</p>
            </div>
            <div class="about-photo">
                <img src="selfie.jpg" alt="Photo of Serena">
            </div>
        </div>
    </section>

    <!-- Lightbox: images and videos -->
    <div id="lightbox">
        <img id="lightbox-img" src="" alt="">
        <video id="lightbox-video" controls playsinline></video>
    </div>

    <script>
        const images = document.querySelectorAll('.gallery img');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxVideo = document.getElementById('lightbox-video');

        images.forEach(img => {
            img.addEventListener('click', () => {
                lightbox.classList.remove('video-mode');
                lightboxImg.style.display = '';
                if (lightboxVideo) {
                    lightboxVideo.pause();
                    lightboxVideo.src = '';
                    lightboxVideo.style.display = 'none';
                }
                lightbox.style.display = 'flex';
                lightboxImg.src = img.src;
                lightboxImg.alt = img.alt;
            });
        });

        function openVideoLightbox(src) {
            if (!lightboxVideo) return;
            lightboxVideo.pause();
            lightboxVideo.removeAttribute('src');
            lightboxVideo.load();
            lightbox.classList.add('video-mode');
            lightboxImg.style.display = 'none';
            lightboxImg.src = '';
            lightboxVideo.controls = true;
            lightboxVideo.muted = false;
            lightboxVideo.style.display = 'block';
            lightboxVideo.src = src;
            lightboxVideo.load();
            lightbox.style.display = 'flex';
            function playWhenReady() {
                lightboxVideo.removeEventListener('loadeddata', playWhenReady);
                lightboxVideo.removeEventListener('canplay', playWhenReady);
                lightboxVideo.play().catch(function () {});
            }
            lightboxVideo.addEventListener('loadeddata', playWhenReady, { once: true });
            lightboxVideo.addEventListener('canplay', playWhenReady, { once: true });
            lightboxVideo.play().catch(function () {});
        }

        document.querySelectorAll('.video-gallery video').forEach(vid => {
            var startTime = vid.getAttribute('data-start-time');
            if (startTime != null) {
                vid.addEventListener('loadedmetadata', function setCover() {
                    vid.currentTime = parseFloat(startTime);
                }, { once: true });
            }
            vid.addEventListener('click', () => {
                const src = vid.getAttribute('data-src') || vid.src;
                openVideoLightbox(src);
            });
        });

        function closeLightbox() {
            lightbox.style.display = 'none';
            lightboxImg.src = '';
            if (lightboxVideo) {
                lightboxVideo.pause();
                lightboxVideo.removeAttribute('src');
                lightboxVideo.load();
                lightboxVideo.style.display = 'none';
            }
            lightbox.classList.remove('video-mode');
            lightboxImg.style.display = '';
        }

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) closeLightbox();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeLightbox();
        });

        // Menu: open/close and switch pages (Video, About)
        const menuBtn = document.getElementById('menuBtn');
        const menuDropdown = document.getElementById('menuDropdown');
        const menuBackdrop = document.getElementById('menuBackdrop');

        function openMenu() {
            menuDropdown.classList.add('open');
            menuBackdrop.classList.add('visible');
            menuBtn.setAttribute('aria-expanded', 'true');
        }
        function closeMenu() {
            menuDropdown.classList.remove('open');
            menuBackdrop.classList.remove('visible');
            menuBtn.setAttribute('aria-expanded', 'false');
        }
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
            const page = document.getElementById('page-' + pageId);
            if (page) page.classList.add('active');
        }

        menuBtn.addEventListener('click', () => {
            if (menuDropdown.classList.contains('open')) closeMenu();
            else openMenu();
        });
        menuBackdrop.addEventListener('click', closeMenu);
        menuDropdown.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const page = link.getAttribute('data-page');
                if (page) showPage(page);
                closeMenu();
            });
        });
    </script>
</body>
</html>

